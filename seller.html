<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MooiNooiMix - Seller Dashboard</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üíº</text></svg>">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="phone-container">
        <!-- Auth View -->
        <div id="auth-view" class="view">
            <div class="header">
                <h1>üíº Seller Dashboard</h1>
                <p class="subtitle">Manage Your Listings</p>
            </div>

            <div class="auth-container">
                <!-- Login Form -->
                <div id="login-form" class="auth-form">
                    <h2>Welcome Back, Seller</h2>
                    <div class="input-group">
                        <label>Username</label>
                        <input type="text" id="login-username" placeholder="Enter your username">
                    </div>
                    <div class="input-group">
                        <label>Password</label>
                        <input type="password" id="login-password" placeholder="Enter your password">
                    </div>
                    <button class="btn btn-primary" onclick="login()">Log In</button>
                    <p class="switch-auth">Don't have an account? <span onclick="showSignup()">Sign Up</span></p>
                    <p class="switch-auth" style="margin-top: 15px;"><a href="index.html" style="color: #4facfe;">‚Üê Back to Home</a></p>
                </div>

                <!-- Signup Form -->
                <div id="signup-form" class="auth-form" style="display: none;">
                    <h2>Create Seller Account</h2>
                    <div class="input-group">
                        <label>Username</label>
                        <input type="text" id="signup-username" placeholder="Choose a username">
                    </div>
                    <div class="input-group">
                        <label>Password</label>
                        <input type="password" id="signup-password" placeholder="Choose a password">
                    </div>
                    <button class="btn btn-primary" onclick="signup()">Sign Up</button>
                    <p class="switch-auth">Already have an account? <span onclick="showLogin()">Log In</span></p>
                </div>
            </div>
        </div>

        <!-- Seller Dashboard View -->
        <div id="marketplace-view" class="view" style="display: none;">
            <div class="header" id="main-header">
                <h1>üíº Seller Dashboard</h1>
                <div class="header-icons">
                    <button class="btn-icon" onclick="window.location.href='index.html'" title="Back to Home">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                            <polyline points="9 22 9 12 15 12 15 22"></polyline>
                        </svg>
                    </button>
                </div>
            </div>

            <div class="content">
                <!-- Main Menu (shown by default) -->
                <div id="main-menu" class="main-menu">
                    <div class="menu-card" onclick="filterCategory('market')">
                        <div class="menu-icon">üõçÔ∏è</div>
                        <h3>My Products</h3>
                        <p>View & manage your products</p>
                    </div>
                    <div class="menu-card" onclick="filterCategory('business')">
                        <div class="menu-icon">üè¢</div>
                        <h3>My Businesses</h3>
                        <p>View & manage business ads</p>
                    </div>
                    <div class="menu-card" onclick="showAnalytics()">
                        <div class="menu-icon">üìä</div>
                        <h3>Analytics</h3>
                        <p>View your performance stats</p>
                    </div>
                    <div class="menu-card" onclick="showMyReviews()">
                        <div class="menu-icon">‚≠ê</div>
                        <h3>My Reviews</h3>
                        <p>View your seller ratings</p>
                    </div>
                    <div class="menu-card" onclick="showSettings()">
                        <div class="menu-icon">‚öôÔ∏è</div>
                        <h3>Settings</h3>
                        <p>Account & contact info</p>
                    </div>
                    <div class="menu-card" onclick="window.location.href='buyer.html'">
                        <div class="menu-icon">üõí</div>
                        <h3>Browse Market</h3>
                        <p>Shop as a buyer</p>
                    </div>
                </div>

                <!-- Category View Header -->
                <div id="category-header" style="display: none; margin-bottom: 20px;">
                    <button onclick="showMainMenu()" style="background: white; border: 2px solid #4facfe; color: #4facfe; padding: 10px 20px; border-radius: 12px; cursor: pointer; font-size: 14px; font-weight: 600; display: flex; align-items: center; gap: 8px; margin-bottom: 15px;">
                        <span style="font-size: 18px;">‚Üê</span> Back to Menu
                    </button>
                    <button class="btn btn-add" id="add-btn" onclick="showAddProduct()">+ Add Product</button>
                </div>

                <!-- Loading Spinner -->
                <div id="loading-spinner" class="loading-spinner" style="display: none;">
                    <div class="spinner"></div>
                    <p>Loading...</p>
                </div>

                <!-- Products Grid -->
                <div id="products-grid" class="products-grid" style="display: none;">
                    <!-- Products will be loaded here -->
                </div>
                
                <!-- Business Grid (only shown for business category) -->
                <div id="business-grid" class="products-grid" style="display: none;">
                    <!-- Businesses will be loaded here -->
                </div>
                
                <!-- Location Map View (only shown for location category) -->
                <div id="location-map-view" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 100; background: white;">
                    <button onclick="closeLocationMap()" style="position: absolute; top: 20px; left: 20px; z-index: 1000; background: white; border: none; padding: 12px 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.2); cursor: pointer; font-size: 16px; font-weight: 600; display: flex; align-items: center; gap: 8px;">
                        <span style="font-size: 20px;">‚Üê</span> Back
                    </button>
                    <div id="location-map-filters" style="position: absolute; top: 20px; right: 20px; z-index: 1000; background: white; padding: 15px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.2);">
                        <label style="display: flex; align-items: center; margin-bottom: 10px; cursor: pointer;">
                            <input type="checkbox" id="show-products" checked style="margin-right: 8px; width: 18px; height: 18px;">
                            <span style="font-weight: 600;">üõçÔ∏è Products</span>
                        </label>
                        <label style="display: flex; align-items: center; cursor: pointer;">
                            <input type="checkbox" id="show-businesses" checked style="margin-right: 8px; width: 18px; height: 18px;">
                            <span style="font-weight: 600;">üè¢ Businesses</span>
                        </label>
                    </div>
                    <div id="location-main-map" style="width: 100%; height: 100%;"></div>
                </div>
                
                <!-- Hall Monitor View -->
                <div id="hall-monitor-view" style="display: none;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <div class="hall-monitor-card" onclick="showAddSpeedCop()">
                            <div class="menu-icon" style="font-size: 48px;">üìç</div>
                            <h3>Add Speed Cop</h3>
                            <p>Report a speed cop location</p>
                        </div>
                        <div class="hall-monitor-card" onclick="showSpeedCopMap()">
                            <div class="menu-icon" style="font-size: 48px;">üó∫Ô∏è</div>
                            <h3>View Speed Cops</h3>
                            <p>See all reported locations</p>
                        </div>
                    </div>
                </div>
                
                <!-- Speed Cop Location Choice Modal -->
                <div id="speedcop-choice-modal" class="modal">
                    <div class="modal-content" style="max-width: 400px; padding: 30px;">
                        <h3 style="margin-top: 0; margin-bottom: 10px; color: #333; text-align: center;">üìç Report Speed Cop</h3>
                        <p style="color: #666; margin-bottom: 30px; text-align: center; font-size: 14px;">How would you like to report the location?</p>
                        
                        <button onclick="placeSpeedCopHere()" style="width: 100%; padding: 20px; margin-bottom: 15px; background: white; color: #333; border: 2px solid #e0e0e0; border-radius: 16px; cursor: pointer; font-weight: 600; font-size: 16px; display: flex; align-items: center; gap: 15px; transition: all 0.3s; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                            <span style="font-size: 32px;">üìç</span>
                            <div style="text-align: left; flex: 1;">
                                <div style="font-size: 16px; font-weight: 700; color: #333; margin-bottom: 4px;">Place Marker Here</div>
                                <div style="font-size: 13px; color: #999; font-weight: 400;">Use your current location</div>
                            </div>
                        </button>
                        
                        <button onclick="chooseSpeedCopLocation()" style="width: 100%; padding: 20px; margin-bottom: 20px; background: white; color: #333; border: 2px solid #e0e0e0; border-radius: 16px; cursor: pointer; font-weight: 600; font-size: 16px; display: flex; align-items: center; gap: 15px; transition: all 0.3s; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                            <span style="font-size: 32px;">üó∫Ô∏è</span>
                            <div style="text-align: left; flex: 1;">
                                <div style="font-size: 16px; font-weight: 700; color: #333; margin-bottom: 4px;">Choose on Map</div>
                                <div style="font-size: 13px; color: #999; font-weight: 400;">Select any location manually</div>
                            </div>
                        </button>
                        
                        <button onclick="closeSpeedCopChoiceModal()" style="width: 100%; padding: 14px; background: #f8f9fa; color: #666; border: none; border-radius: 12px; cursor: pointer; font-weight: 600; font-size: 15px; transition: all 0.3s;">
                            Cancel
                        </button>
                    </div>
                </div>
                
                <!-- Speed Cop Confirmation Modal -->
                <div id="speedcop-confirm-modal" class="modal">
                    <div class="modal-content" style="max-width: 350px; padding: 30px; text-align: center;">
                        <div style="font-size: 64px; margin-bottom: 15px;">üö®</div>
                        <h3 style="margin: 0 0 10px 0; color: #333;">Report Speed Cop?</h3>
                        <p style="color: #666; margin-bottom: 25px; font-size: 14px;">This will place a speed cop marker at your current location.</p>
                        
                        <button id="confirm-speedcop-report-btn" style="width: 100%; padding: 14px; margin-bottom: 10px; background: linear-gradient(135deg, #ff4757 0%, #ff6348 100%); color: white; border: none; border-radius: 12px; cursor: pointer; font-weight: 600; font-size: 15px; transition: all 0.3s;">
                            Confirm Report
                        </button>
                        
                        <button onclick="closeSpeedCopConfirmModal()" style="width: 100%; padding: 14px; background: #f8f9fa; color: #666; border: none; border-radius: 12px; cursor: pointer; font-weight: 600; font-size: 15px; transition: all 0.3s;">
                            Cancel
                        </button>
                    </div>
                </div>
                
                <!-- Add Speed Cop Map View -->
                <div id="add-speedcop-map-view" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 100; background: white;">
                    <div style="position: absolute; top: 20px; left: 20px; right: 20px; z-index: 1000; display: flex; justify-content: space-between; align-items: flex-start; gap: 15px;">
                        <button onclick="closeAddSpeedCopMap()" style="background: white; border: none; padding: 12px 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.2); cursor: pointer; font-size: 16px; font-weight: 600; display: flex; align-items: center; gap: 8px; flex-shrink: 0;">
                            <span style="font-size: 20px;">‚Üê</span> Back
                        </button>
                        <div id="add-speedcop-instructions" style="background: white; padding: 15px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.2); flex-grow: 1; max-width: 300px;">
                            <h4 style="margin: 0 0 10px 0; color: #ff4757;">üìç Tip-Off System</h4>
                            <p style="margin: 0 0 10px 0; font-size: 13px; color: #666;">Click anywhere on the map to report a speed cop location</p>
                            <button id="confirm-speedcop-btn" onclick="confirmSpeedCop()" disabled style="width: 100%; padding: 10px; background: #4facfe; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">
                                Confirm Location
                            </button>
                        </div>
                    </div>
                    <div id="add-speedcop-map" style="width: 100%; height: 100%;"></div>
                </div>
                
                <!-- Speed Cop Map View -->
                <div id="speedcop-map-view" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 100; background: white;">
                    <button onclick="closeSpeedCopMap()" style="position: absolute; top: 20px; left: 20px; z-index: 1000; background: white; border: none; padding: 12px 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.2); cursor: pointer; font-size: 16px; font-weight: 600; display: flex; align-items: center; gap: 8px;">
                        <span style="font-size: 20px;">‚Üê</span> Back
                    </button>
                    <div id="speedcop-map" style="width: 100%; height: 100%;"></div>
                </div>
            </div>

            <div class="user-info">
                <p>Logged in as: <strong id="current-user"></strong></p>
            </div>
        </div>

        <!-- Product Detail Modal -->
        <div id="product-detail-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="product-detail-name">Product Details</h2>
                    <button class="btn-close" onclick="closeProductDetail()">&times;</button>
                </div>
                <div class="modal-body">
                    <div id="product-detail-images" class="product-detail-images"></div>
                    <div id="product-detail-info" class="product-detail-info"></div>
                    <div id="product-location-button-container"></div>
                    <hr style="margin: 20px 0;">
                    <div id="product-detail-seller" class="product-detail-seller"></div>
                </div>
            </div>
        </div>

        <!-- Product Directions Map Modal -->
        <div id="product-directions-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1001; background: white;">
            <button onclick="closeDirectionsMap()" style="position: absolute; top: 20px; left: 20px; z-index: 1002; background: white; border: none; padding: 12px 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.2); cursor: pointer; font-size: 16px; font-weight: 600; display: flex; align-items: center; gap: 8px;">
                <span style="font-size: 20px;">‚Üê</span> Back
            </button>
            <div id="directions-map" style="width: 100%; height: 100%;"></div>
        </div>

        <!-- Seller Info Modal -->
        <div id="seller-info-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="seller-modal-name">Seller Info</h2>
                    <button class="btn-close" onclick="closeSellerInfo()">&times;</button>
                </div>
                <div class="modal-body">
                    <!-- Review Form Section (Top) -->
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 25px; border-radius: 16px; margin-bottom: 25px;">
                        <h3 style="color: white; margin: 0 0 15px 0; font-size: 20px;">‚≠ê Leave a Review</h3>
                        <div class="input-group" style="margin-bottom: 15px;">
                            <label style="color: white; font-weight: 600; margin-bottom: 8px; display: block;">Rating</label>
                            <div class="star-rating" id="review-stars" style="margin-bottom: 0;">
                                <span class="star" onclick="setRating(1)">‚òÜ</span>
                                <span class="star" onclick="setRating(2)">‚òÜ</span>
                                <span class="star" onclick="setRating(3)">‚òÜ</span>
                                <span class="star" onclick="setRating(4)">‚òÜ</span>
                                <span class="star" onclick="setRating(5)">‚òÜ</span>
                            </div>
                        </div>
                        <div class="input-group" style="margin-bottom: 15px;">
                            <label style="color: white; font-weight: 600; margin-bottom: 8px; display: block;">Review (Optional)</label>
                            <textarea id="review-text" placeholder="Share your experience with this seller..." rows="3" style="background: rgba(255,255,255,0.95); border: none; border-radius: 8px; padding: 12px;"></textarea>
                        </div>
                        <button class="btn btn-primary" onclick="submitReview()" style="background: white; color: #667eea; border: none; padding: 12px 30px; border-radius: 8px; font-weight: 600; width: 100%; cursor: pointer; transition: all 0.3s;">Submit Review</button>
                    </div>

                    <!-- Seller Rating -->
                    <div id="seller-rating" class="seller-rating" style="margin-bottom: 25px;"></div>

                    <!-- Reviews List -->
                    <div style="margin-bottom: 25px;">
                        <h3 style="margin-bottom: 15px; color: #333;">üìù Customer Reviews</h3>
                        <div id="seller-reviews-list"></div>
                    </div>

                    <!-- Contact Information -->
                    <div id="seller-contact" class="seller-contact" style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin-bottom: 25px;"></div>

                    <!-- Other Products -->
                    <div id="seller-products-preview" class="seller-products-preview"></div>
                </div>
            </div>
        </div>

        <!-- Analytics View -->
        <div id="analytics-view" style="display: none; padding: 20px;">
            <button onclick="closeAnalytics()" style="background: white; border: 2px solid #4facfe; color: #4facfe; padding: 10px 20px; border-radius: 12px; cursor: pointer; font-size: 14px; font-weight: 600; display: flex; align-items: center; gap: 8px; margin-bottom: 20px;">
                <span style="font-size: 18px;">‚Üê</span> Back to Menu
            </button>
            
            <div style="background: white; border-radius: 20px; padding: 25px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                <h2 style="margin: 0 0 25px 0; font-size: 24px; color: #333;">üìä Analytics Dashboard</h2>
                
                <!-- Overview Cards -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px;">
                    <div style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); padding: 20px; border-radius: 12px; color: white;">
                        <div style="font-size: 14px; opacity: 0.9; margin-bottom: 8px;">Total Products</div>
                        <div style="font-size: 36px; font-weight: 700;" id="analytics-total-products">0</div>
                    </div>
                    <div style="background: linear-gradient(135deg, #00bfa5 0%, #00d2ff 100%); padding: 20px; border-radius: 12px; color: white;">
                        <div style="font-size: 14px; opacity: 0.9; margin-bottom: 8px;">Total Businesses</div>
                        <div style="font-size: 36px; font-weight: 700;" id="analytics-total-businesses">0</div>
                    </div>
                    <div style="background: linear-gradient(135deg, #ffd32a 0%, #ff9500 100%); padding: 20px; border-radius: 12px; color: white;">
                        <div style="font-size: 14px; opacity: 0.9; margin-bottom: 8px;">Total Views</div>
                        <div style="font-size: 36px; font-weight: 700;" id="analytics-total-views">0</div>
                    </div>
                    <div style="background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%); padding: 20px; border-radius: 12px; color: white;">
                        <div style="font-size: 14px; opacity: 0.9; margin-bottom: 8px;">Items Sold</div>
                        <div style="font-size: 36px; font-weight: 700;" id="analytics-items-sold">0</div>
                    </div>
                </div>
                
                <!-- Products Performance -->
                <div style="margin-bottom: 30px;">
                    <h3 style="font-size: 18px; color: #4facfe; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 2px solid #f0f0f0;">üõçÔ∏è Product Performance</h3>
                    <div id="analytics-products-list" style="max-height: 400px; overflow-y: auto;"></div>
                </div>
                
                <!-- Business Performance -->
                <div>
                    <h3 style="font-size: 18px; color: #4facfe; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 2px solid #f0f0f0;">üè¢ Business Performance</h3>
                    <div id="analytics-businesses-list" style="max-height: 400px; overflow-y: auto;"></div>
                </div>
            </div>
        </div>

        <!-- My Reviews View -->
        <div id="reviews-view" style="display: none; padding: 20px;">
            <button onclick="closeReviewsView()" style="background: white; border: 2px solid #4facfe; color: #4facfe; padding: 10px 20px; border-radius: 12px; cursor: pointer; font-size: 14px; font-weight: 600; display: flex; align-items: center; gap: 8px; margin-bottom: 20px;">
                <span style="font-size: 18px;">‚Üê</span> Back to Menu
            </button>
            
            <div style="background: white; border-radius: 20px; padding: 25px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                <h2 style="margin: 0 0 25px 0; font-size: 24px; color: #333;">‚≠ê My Reviews</h2>
                
                <div id="user-reviews-summary" style="margin-bottom: 30px; padding: 20px; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); border-radius: 15px; color: white;">
                    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px;">
                        <div>
                            <div style="font-size: 48px; font-weight: 700; margin-bottom: 5px;" id="avg-rating-display">-</div>
                            <div style="font-size: 14px; opacity: 0.9;">Average Rating</div>
                        </div>
                        <div>
                            <div style="font-size: 48px; font-weight: 700; margin-bottom: 5px;" id="total-reviews-display">0</div>
                            <div style="font-size: 14px; opacity: 0.9;">Total Reviews</div>
                        </div>
                    </div>
                </div>
                
                <div id="user-reviews-list" style="max-height: 500px; overflow-y: auto;"></div>
            </div>
        </div>

        <!-- Settings View (Replaces Modal) -->
        <div id="settings-view" style="display: none; padding: 20px;">
            <button onclick="closeSettings()" style="background: white; border: 2px solid #4facfe; color: #4facfe; padding: 10px 20px; border-radius: 12px; cursor: pointer; font-size: 14px; font-weight: 600; display: flex; align-items: center; gap: 8px; margin-bottom: 20px;">
                <span style="font-size: 18px;">‚Üê</span> Back to Menu
            </button>
            
            <div style="background: white; border-radius: 20px; padding: 25px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                <h2 style="margin: 0 0 25px 0; font-size: 24px; color: #333;">‚öôÔ∏è Settings</h2>
                
                <!-- Settings Sections -->
                <div class="settings-section" style="margin-bottom: 30px;">
                    <h3 style="font-size: 18px; color: #4facfe; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 2px solid #f0f0f0;">üë§ Account Information</h3>
                    <div style="padding: 15px; background: #f8f9fa; border-radius: 12px; margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <span style="color: #666; font-size: 14px;">Username</span>
                            <strong id="settings-username" style="color: #333;">-</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span style="color: #666; font-size: 14px;">Account Type</span>
                            <strong style="color: #4facfe;">Seller</strong>
                        </div>
                    </div>
                </div>
                
                <div class="settings-section" style="margin-bottom: 30px;">
                    <h3 style="font-size: 18px; color: #4facfe; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 2px solid #f0f0f0;">üìû Contact Information</h3>
                    <p style="color: #666; font-size: 13px; margin-bottom: 15px;">This information will be visible to buyers on your listings</p>
                    <div class="input-group">
                        <label>Email (Optional)</label>
                        <input type="email" id="user-email" placeholder="your.email@example.com">
                    </div>
                    <div class="input-group">
                        <label>Phone Number (Optional)</label>
                        <input type="tel" id="user-phone" placeholder="+1 234 567 8900">
                    </div>
                    <div class="input-group">
                        <label>Location (Optional)</label>
                        <input type="text" id="user-location" placeholder="City, Country">
                    </div>
                    <button class="btn btn-primary" onclick="saveContactInfo()">Save Contact Info</button>
                </div>
                
                <div class="settings-section">
                    <button class="btn btn-logout" onclick="logout()" style="width: 100%; background: linear-gradient(135deg, #ff4757 0%, #e74c3c 100%); color: white; padding: 15px; border: none; border-radius: 12px; font-size: 16px; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16 17 21 12 16 7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                        Logout
                    </button>
                </div>
            </div>
        </div>

        <!-- Add Product Modal -->
        <div id="add-product-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Add Product</h2>
                    <button class="btn-close" onclick="closeAddProduct()">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="input-group">
                        <label>Product Name</label>
                        <input type="text" id="product-name" placeholder="Enter product name">
                    </div>
                    <div class="input-group">
                        <label>Description</label>
                        <textarea id="product-description" placeholder="Describe your product" rows="3"></textarea>
                    </div>
                    <div class="input-group">
                        <label>Price</label>
                        <input type="number" id="product-price" placeholder="0.00" step="0.01">
                    </div>
                    <div class="input-group">
                        <label>Category</label>
                        <select id="product-category" onchange="handleCategorySelection()">
                            <option value="market">Market</option>
                            <option value="location">Location</option>
                            <option value="business">Business Ads</option>
                        </select>
                    </div>
                    
                    <!-- Standard Product Fields -->
                    <div id="standard-fields">
                        <div class="input-group">
                            <label>Product Images (Max 3)</label>
                            <input type="file" id="product-images" accept="image/*" multiple>
                            <div id="image-preview" class="image-preview"></div>
                        </div>
                        <div class="input-group">
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" id="add-location-checkbox" style="width: auto; margin: 0;">
                                üìç Add Location (Optional)
                            </label>
                        </div>
                        <div class="input-group" id="location-map-group" style="display: none;">
                            <p style="font-size: 13px; color: #666; margin: 5px 0 10px 0;">Click on the map to set your location</p>
                            <div id="location-map" style="height: 300px; width: 100%; border-radius: 8px; margin-bottom: 10px;"></div>
                            <div id="selected-location" style="font-size: 13px; color: #666;"></div>
                        </div>
                    </div>
                    
                    <!-- Business Fields (only shown for Business Ads) -->
                    <div id="business-fields" style="display: none;">
                        <div class="input-group">
                            <label>Company Logo</label>
                            <input type="file" id="business-logo" accept="image/*">
                            <div id="logo-preview" class="image-preview"></div>
                        </div>
                        <div class="input-group">
                            <label>Business Email</label>
                            <input type="email" id="business-email" placeholder="contact@business.com">
                        </div>
                        <div class="input-group">
                            <label>Business Phone</label>
                            <input type="tel" id="business-phone" placeholder="+1 234 567 8900">
                        </div>
                        <div class="input-group">
                            <label>Business Address</label>
                            <input type="text" id="business-address" placeholder="123 Main St, City, Country">
                        </div>
                        <div class="input-group">
                            <label>Website (Optional)</label>
                            <input type="url" id="business-website" placeholder="https://www.yourbusiness.com">
                        </div>
                        <div class="input-group">
                            <label>üìç Business Location</label>
                            <p style="font-size: 13px; color: #666; margin: 5px 0 10px 0;">Click on the map to set your business location</p>
                            <div id="business-location-map" style="height: 300px; width: 100%; border-radius: 8px; margin-bottom: 10px;"></div>
                            <div id="business-selected-location" style="font-size: 13px; color: #666;"></div>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" onclick="addProduct()">Post Product</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <!-- App Scripts -->
    <script src="firebase-config.js"></script>
    <script src="seller-app.js"></script>
</body>
</html>
